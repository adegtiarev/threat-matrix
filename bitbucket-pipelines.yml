image: openjdk

pipelines:
  default:
    - parallel:
      - step:
          name: 'Build and Test'
          script:
            - echo "Your build and test goes here..."
      - step:       
          name: 'Lint'
          script:
            - echo "Your linting goes here..."     
    - parallel:
      - step:
          name: 'Security scan'
          script:
            - echo "Security scan done!"
      - step:
          name: ThreatScan
          services: [docker]
          script:
            - >
              docker run -v $(pwd):/app 
              -e THREATRIX_OID=${}
              -e THREATRIX_EID=${}
              -e THREATRIX_API_KEY=${}
              threatrix/threatrix-scan
